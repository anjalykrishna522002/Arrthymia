{% include 'public_header.html' %}
<script src="https://cdn.validy.io/validy.min.js"></script>

<!-- Hero Start -->
<div class="container-fluid d-flex align-items-center justify-content-center vh-100" 
     style="background-image: url('/static/img/doctorlogin.png'); background-size: cover; background-position: center; height: 100vh;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10 text-center text-lg-start">
                <center>
                    <form method="post" style="width: 900px; background: rgba(0, 0, 0, 0.6); padding: 30px; border-radius: 10px; color: white;">
                        <h1 style="color: white;">DOCTOR REGISTRATION</h1>
                        <table class="table" style="width: 100%; color: white;">
                            <tr>
                                <th>FIRST NAME</th>
                                <td><input type="text" name="first_name" required class="form-control" pattern="[A-Za-z ]+" title="Only letters and spaces are allowed."></td>
                            </tr>
                            <tr>
                                <th>LAST NAME</th>
                                <td><input type="text" name="last_name" required class="form-control" pattern="[A-Za-z ]+" title="Only letters and spaces are allowed."></td>
                            </tr>
                            <tr>
                                <th>HOUSE NAME</th>
                                <td><input type="text" required class="form-control" name="housename"></td>
                            </tr>
                            <tr>
                                <th>PLACE</th>
                                <td><input type="text" required class="form-control" name="place"></td>
                            </tr>
                            <tr>
                                <th>LAND MARK</th>
                                <td><input type="text" required class="form-control" name="landmark"></td>
                            </tr>
                            <tr>
                                <th>Department</th>
                                <td><input type="text" required class="form-control" name="qualification"></td>
                            </tr>
                            <tr>
                                <th>PHONE</th>
                                <td><input type="tel" class="form-control" required pattern="[0-9]{10}" maxlength="10" name="phone"></td>
                            </tr>
                            <tr>
                                <th>Email</th>
                                <td><input type="email" name="email" required class="form-control" placeholder="Enter your email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" title="Please enter a valid email address."></td>
                            </tr>
                            <tr>
                                <th>Username</th>
                                <td>
                                    <input type="text" name="username" required class="form-control" placeholder="Enter your email" oninput="validateUsername()">
                                    <small id="usernameError" class="form-text text-danger" style="display: none;">Please enter a valid email address.</small>
                                </td>
                            </tr>
                            <tr>
                                <th>Password</th>
                                <td>
                                    <input type="password" name="password" id="password" required class="form-control" placeholder="Enter your password" oninput="validatePassword()">
                                    <small id="passwordError" class="form-text text-danger" style="display: none;">Password must be at least 7 characters long, contain at least one uppercase letter, one lowercase letter, and one digit.</small>
                                </td>
                            </tr>
                            <tr>
                                <td align="center" colspan="2">
                                    <input type="submit" class="btn btn-success" name="submit" value="REGISTER" style="background-color: #13C5DD; color: white; padding: 10px 30px; font-size: 18px;">
                                </td>
                            </tr>
                        </table>
                    </form>
                </center>
            </div>
        </div>
    </div>
</div>
<!-- Hero End -->
{% include 'footer.html' %}
<script>
    // Validate the username (email)
    function validateUsername() {
        var username = document.querySelector("[name='username']").value;
        var usernameError = document.getElementById("usernameError");

        // Regular expression for validating email
        var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

        // Check if the username matches the email format
        if (emailRegex.test(username)) {
            usernameError.style.display = "none";  // Hide error message if valid
        } else {
            usernameError.style.display = "block";  // Show error message if invalid
        }
    }

    // Validate the password
    function validatePassword() {
        var password = document.getElementById("password").value;
        var passwordError = document.getElementById("passwordError");

        // Regular expression for password validation
        var passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{7,}$/;

        // Check if the password matches the regular expression
        if (passwordRegex.test(password)) {
            passwordError.style.display = "none";  // Hide error message if valid
        } else {
            passwordError.style.display = "block";  // Show error message if invalid
        }
    }
</script>
